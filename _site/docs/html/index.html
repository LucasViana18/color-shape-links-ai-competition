<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ColorShapeLinks AI: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ColorShapeLinks AI
   </div>
   <div id="projectbrief">An AI competition for the IEEE Conference on Games</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ColorShapeLinks AI Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="el" href="namespace_color_shape_links.html" title="The ColorShapeLinks game, an unbounded version of the Simplexity board game.">ColorShapeLinks</a> AI competition</h1>
<p>This competition has been accepted for the <a href="http://ieee-cog.org/2020/">IEEE CoG 2020</a> conference and is officially open!</p>
<ul>
<li>What's ready:<ul>
<li>Introductory documentation (this document), with quick start tutorials for testing your AI using the <a href="#testing-the-ai-in-the-console">console</a> or with <a href="#testing-the-ai-in-unity">Unity</a>.</li>
<li>The development framework (see <a href="#downloading-the-development-framework">how to download it</a>) and its <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/index.html">API</a>.</li>
<li>Running daily competition with <a href="#tracks">Base Track</a> settings and automated upload of <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/standings">classification and results</a>.</li>
</ul>
</li>
<li>What's not:<ul>
<li>How to video.</li>
<li>Detailed guide for implementing the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_00_thinker.html">thinker AI</a>, as well as how to and best practices guides for testing it in the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_02_console.html">console</a> and <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_05_unity.html">Unity</a>.</li>
</ul>
</li>
</ul>
<h2>Description</h2>
<p><a class="el" href="namespace_color_shape_links.html" title="The ColorShapeLinks game, an unbounded version of the Simplexity board game.">ColorShapeLinks</a> is an AI competition for the <a href="https://boardgamegeek.com/boardgame/55810/simplexity">Simplexity</a> board game with arbitrary game dimensions. The first player to place <em>n</em> pieces of the same type in a row wins. In this regard, the base game, with a 6 x 7 board and <em>n</em> = 4, is similar to <a href="https://www.boardgamegeek.com/boardgame/2719/connect-four">Connect Four</a>. However, pieces are defined not only by color, but also by shape: round or square. Round or white pieces offer the win to player 1, while square or red pieces do the same for player 2. Contrary to color, players start the game with pieces of both shapes. This means that a less observant player can lose in its turn, especially since shape has priority over color as a winning condition. Given this fact, as well as the arbitrary game dimensions, the challenges for the AI, namely at the level of the heuristic evaluation function, are multifold.</p>
<h2>The competition</h2>
<h3>Tracks</h3>
<p>The competition runs on two distinct tracks:</p>
<ol type="1">
<li>The <b>Base Track</b> competition will be played using standard <a href="https://boardgamegeek.com/boardgame/55810/simplexity">Simplexity</a> rules (6x7 board, 4 pieces in a row for victory) and with a time limit of 0.2 seconds. Only one processor core will be available for the AIs.</li>
<li>The <b>Unknown Track</b> competition will be played on a multi-core processor under conditions that will only be revealed after the competition deadline. These conditions will be derived from the first <a href="https://www.euro-millions.com/">EuroMillions</a> draw that takes place after the deadline, most likely at May 19, 2020, as follows:<ul>
<li>NumberOfRows = Lowest <a href="https://www.euro-millions.com/">EuroMillions</a> ball number higher than 6 (ascending order).</li>
<li>NumberOfCols = Next <a href="https://www.euro-millions.com/">EuroMillions</a> ball (ascending order).</li>
<li>WiningSequenceLength = Ceil(NumberOfRows / 2.0).</li>
<li>InitialNumberOfRoundPiecesPerPlayer = Floor(NumberOfRows * NumberOfCols / 4.0)</li>
<li>InitialNumberOfSquarePiecesPerPlayer = Ceil(NumberOfRows * NumberOfCols / 4.0)</li>
<li>TimeLimit (milliseconds) = 25 * Max(NumberOfRows, NumberOfCols)</li>
</ul>
</li>
</ol>
<h3>Classification</h3>
<p>All AIs will play against each other two times, so each AI has the opportunity to play first. Players will be awarded 3 points per win, 1 point per draw and 0 points per loss. The <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/standings">classification</a> for each track will be based on the total number of points obtained per AI, sorted in descending order.</p>
<p>Tie-breaks are performed only when there are two or more AIs with the same points in first place. In such cases, ties are solved according to the following criteria (from most to least important):</p>
<ol type="1">
<li>Greatest number of points obtained in the matches between AIs with the same points.</li>
<li>Perform a tie-break tournament between the AIs still tied with the time limit doubled. Repeat the process at most 10 times until the tie is broken.</li>
<li>Perform a tie-break tournament between the AIs still tied with the time limit halved. Repeat the process at most 10 times until the tie is broken.</li>
<li>If the tie persists, the AIs are considered officially tied and <em>ex aequo</em> winners of the competition.</li>
</ol>
<p>Classification for the base track is updated daily, and is available <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/standings">here</a>.</p>
<h3>Submissions</h3>
<p>AIs should be submitted via email to <a href="#" onclick="location.href='mai'+'lto:'+'col'+'or'+'sha'+'pe'+'lin'+'ks'+'@ul'+'us'+'ofo'+'na'+'.pt'; return false;">colorshapelinks@ulusofona.pt</a>. Only one AI is allowed per team, but multiple submissions are encouraged as the AI is being developed and improved. Upon submission, the submitted code is:</p>
<ol type="1">
<li>Checked and tested for <a href="#rules-for-the-ai-code">rule</a> compliance, though not otherwise studied or analysed.</li>
<li>Added to the base track competition, the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/standings">classification</a> of which is updated daily.</li>
</ol>
<p>All submitted codes are considered private and privileged and will not be shared, discussed or analyzed by the organization before the competition deadline. After this deadline, all the submitted codes will be made public at this repository. If code authors do not specify a <a href="https://opensource.org/licenses">valid open source license</a> upon submission, the organization will make the code available under the <a href="https://opensource.org/licenses/MPL-2.0">Mozilla Public License 2.0</a>.</p>
<h2>The AI code</h2>
<h3>Overview</h3>
<p><em>For a complete AI implementation guide, check out this <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_00_thinker.html">link</a>.</em></p>
<p>Competition code must be implemented in C# and restrict itself to cross-platform <a href="https://docs.microsoft.com/dotnet/standard/net-standard">.NET Standard 2.0</a> API calls.</p>
<p>At least one class is required for the AI to work. This class should extend <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_a_i_1_1_abstract_thinker.html"><code>AbstractThinker</code></a> and implement the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_a_i_1_1_abstract_thinker.html#ac8039cba1e4ececb04322fb8e7610f0e"><code>Think()</code></a> method. This method accepts the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_board.html">game board</a> and a <a href="https://docs.microsoft.com/dotnet/api/system.threading.cancellationtoken">cancellation token</a>, returning a <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/struct_color_shape_links_1_1_common_1_1_a_i_1_1_future_move.html"><code>FutureMove</code></a>. Simply put, the method accepts the game board, the AI decides the best move to perform, and returns that move, which will eventually be executed by the match engine.</p>
<p>The <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_a_i_1_1_abstract_thinker.html#ac8039cba1e4ececb04322fb8e7610f0e"><code>Think()</code></a> method is called in a separate thread. As such, it should not try to access shared data. The main thread may ask the AI to stop <em>thinking</em>, for example if the thinking time limit has expired. Thus, while <em>thinking</em>, the AI should frequently test if a cancellation request was made to the <a href="https://docs.microsoft.com/dotnet/api/system.threading.cancellationtoken">cancellation token</a>. If so, it should return immediately with no move performed, as exemplified in the following code:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (ct.IsCancellationRequested) <span class="keywordflow">return</span> FutureMove.NoMove;</div>
</div><!-- fragment --><p>The thinker can freely modify the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_board.html">game board</a>, since this is a copy and not the original game board being used in the main thread. More specifically, the thinker can try moves with the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_board.html#af97ec0281f2420e4594b1000b609ab73"><code>DoMove()</code></a> method, and cancel them with the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_board.html#a4f5022f3b6c72a4bba9fad39f631beee"><code>UndoMove()</code></a> method. The board keeps track of the move history, so the thinker can perform any sequence of moves, and roll them back afterwards.</p>
<p>The <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_board.html#a7088451ab7b87b7cac15be65ea521306"><code>CheckWinner()</code></a> method is useful to determine if there is a winner. If there is one, the solution is placed in the method's optional parameter.</p>
<p>For building heuristics, the public read-only variable <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_board.html#a518b85b41ceb010c4f7104395977ff85"><code>winCorridors</code></a> will probably be useful. This variable is a collection containing all corridors (sequences of positions) where promising or winning piece sequences may exist.</p>
<h3>Rules for the AI code</h3>
<p>The AI source code must follow these rules:</p>
<ul>
<li>Can only use cross-platform <a href="https://docs.microsoft.com/dotnet/standard/net-standard">.NET Standard 2.0</a> API calls in C#.</li>
<li>Can use additional libraries which abide by these same rules.</li>
<li>Both the AI code and libraries must be made available under a <a href="https://opensource.org/licenses">valid open source license</a>, although AI codes can be open-sourced only after the competition deadline.</li>
<li>Must run in the same process that invokes it.</li>
<li>Can be multithreaded and use <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/unsafe-code-pointers/"><code>unsafe</code></a> contexts.</li>
<li>Cannot <em>think</em> in its opponent time (e.g., by using a background thread).</li>
<li>Must acknowledge <a href="https://docs.microsoft.com/dotnet/api/system.threading.cancellationtoken">cancellation requests</a>, in which case it should terminate quickly and in an orderly fashion.</li>
<li>Can only probe the environment for the number of processor cores. It cannot search or use any other information, besides what is already available in the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_a_i_1_1_abstract_thinker.html"><code>AbstractThinker</code></a> class or passed to the <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/class_color_shape_links_1_1_common_1_1_a_i_1_1_abstract_thinker.html#ac8039cba1e4ececb04322fb8e7610f0e"><code>Think()</code></a> method, e.g., such as using reflection to probe the capabilities of its opponents.</li>
<li>Cannot use more than 2GB of memory during the course of a match.</li>
<li>Cannot be more than 250kb in size (including libraries, excluding comments).</li>
<li>Cannot save or load data from disk.</li>
</ul>
<h3>Quickly testing your AI</h3>
<p>The following sections describe quick ways of testing your AI in the <a href="#testing-the-ai-in-the-console">console</a> or <a href="#testing-the-ai-in-unity">Unity</a>. For proper development check the complete <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_02_console.html">console</a> and <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_05_unity.html">Unity</a> guides.</p>
<p>All instructions are cross-platform and work in Linux, Windows, and macOS, requiring only that <a href="https://dotnet.microsoft.com/download">.NET Core</a> and/or <a href="https://unity.com/">Unity</a> are installed.</p>
<h4>Downloading the development framework</h4>
<p>The development framework <b>must</b> be downloaded with the following command (requires <a href="https://git-scm.com/downloads">Git</a> ≥ 2.13 and <a href="https://git-lfs.github.com/">Git LFS</a>, other approaches will not work): </p><div class="fragment"><div class="line">git clone --recurse-submodules https://github.com/VideojogosLusofona/color-shape-links-ai-competition.git</div>
</div><!-- fragment --><h4>Testing the AI in the console</h4>
<p><em>For a complete console how to, check out this <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_02_console.html">guide</a>.</em></p>
<ol type="1">
<li>Place your AI class or classes in <code>ConsoleApp/ColorShapeLinks/TextBased/App</code>.</li>
<li>Open a terminal or console and <code>cd</code> into the <code>ConsoleApp/ColorShapeLinks/TextBased/App</code> folder.</li>
<li>Execute the command <code>dotnet run -- info</code> to check if your AI is found by the <em><a class="el" href="namespace_color_shape_links.html" title="The ColorShapeLinks game, an unbounded version of the Simplexity board game.">ColorShapeLinks</a></em> console app.<ul>
<li>The <code>dotnet run -- help</code> lists the high-level command line options available.</li>
</ul>
</li>
<li>Assuming the fully qualified name (namespace + class name) of your AI class is <code>MyAI.MyThinker</code>, the AI, playing as the first player (White), can be tested against a random AI (playing as Red), with a play limit of one second, with <code>dotnet run -- match -W MyAI.MyThinker -R <a class="el" href="class_color_shape_links_1_1_common_1_1_a_i_1_1_examples_1_1_random_a_i_thinker.html" title="Implementation of an AI that will play randomly.">ColorShapeLinks.Common.AI.Examples.RandomAIThinker</a> -t 1000</code>.<ul>
<li>The <code>dotnet run -- help match</code> presents all the sub-options for the <code>match</code> option.</li>
</ul>
</li>
<li>To run a competition, create a text file named <code>competition.txt</code> with the following contents: <div class="fragment"><div class="line">MyAI.MyThinker</div>
<div class="line">ColorShapeLinks.Common.AI.Examples.RandomAIThinker</div>
<div class="line">ColorShapeLinks.Common.AI.Examples.SequentialAIThinker</div>
</div><!-- fragment --> and execute <code>dotnet run -- session -g competition.txt</code>.<ul>
<li>The <code>dotnet run -- help session</code> presents all the sub-options for the <code>session</code> option.</li>
</ul>
</li>
</ol>
<h4>Testing the AI in Unity</h4>
<p><em>For a complete Unity how to, check out this <a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_05_unity.html">guide</a>.</em></p>
<ol type="1">
<li>Place your AI class or classes in <code>UnityApp/Assets/Scripts</code>.</li>
<li>Open the <code>UnityApp</code> project in Unity 2019.2.x or newer.</li>
<li><p class="startli">Open the <b>MainScene</b> scene in the <code>Assets/Scenes</code> folder.</p>
<p class="startli"><img src="https://user-images.githubusercontent.com/3018963/74774639-04580d80-528c-11ea-914a-5dab8f91b390.png" alt="unity01" class="inline"/></p>
</li>
<li><p class="startli">In the Hierarchy tab, select the <b>SessionConfiguration</b> game object.</p>
<p class="startli"><img src="https://user-images.githubusercontent.com/3018963/74774641-04f0a400-528c-11ea-97ec-e86727de2279.png" alt="unity02" class="inline"/></p>
</li>
<li><p class="startli">In the Inspector tab there will be several <b>AI Player</b> components already attached to the game object. These are simple dummy players for testing purposes. Either:</p><ol type="a">
<li>Change the selected thinker in one of the components to your own, or</li>
<li>Add a new <b>AI Player</b> component, and then select your thinker.</li>
</ol>
<p class="startli"><img src="https://user-images.githubusercontent.com/3018963/74774643-05893a80-528c-11ea-9b98-9f8dfbb78a02.png" alt="unity03" class="inline"/></p>
</li>
<li><p class="startli">Press the "Play" button.</p>
<p class="startli"><img src="https://user-images.githubusercontent.com/3018963/74774644-05893a80-528c-11ea-8a43-b385316563a2.png" alt="unity04" class="inline"/></p><ul>
<li>If three or more <b>AI Player</b> components are active, a competition between all AIs will take place.</li>
<li>If two <b>AI Player</b> components are active, a single match between them will take place.</li>
<li>If less than two <b>AI Player</b> components are active, the missing components will be replaced by human players.</li>
</ul>
</li>
</ol>
<h2>Resources and guides</h2>
<ul>
<li><a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/index.html">API documentation</a></li>
<li><a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_02_console.html">Console guide</a></li>
<li><a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_05_unity.html">Unity guide</a></li>
<li><a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/docs/html/md_doc_10_faq.html">FAQ</a></li>
<li><a href="https://videojogoslusofona.github.io/color-shape-links-ai-competition/standings">Classification and Results for the Base Track (updated daily)</a></li>
</ul>
<h2>Licenses</h2>
<p>The code is made available under the <a href="https://opensource.org/licenses/MPL-2.0">Mozilla Public License 2.0</a>. All the text and documentation (i.e., non-code files) are made available under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</p>
<h2>Organization</h2>
<ul>
<li><a href="https://github.com/fakenmc">Nuno Fachada</a>, <a href="http://hei-lab.ulusofona.pt/">HEI-Lab</a>, <a href="https://www.ulusofona.pt/">Lusófona University</a>, Portugal</li>
<li>Contact us by <a href="#" onclick="location.href='mai'+'lto:'+'col'+'or'+'sha'+'pe'+'lin'+'ks'+'@ul'+'us'+'ofo'+'na'+'.pt'; return false;">e-mail</a> or open <a href="https://github.com/VideojogosLusofona/color-shape-links-ai-competition/issues">an issue</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
